#Notes
Based on the FGPA implementation of the AGC Monitor by Mike Stewart.

##AGC monitor

###Module `agc_monitor.v` (toplevel)
Instantiates:
- `io_circuits`
- `monitor`
- Zynq processing system (used only for booting)

###Module `io_circuits.v`
- Debounces a number of signals using the `debounce` module
- Converts a number of push-pull signals to open drain buffers using the `od_buf` module

###Module `monitor.v`
Instantiates:
- `usb_interface`
- `cmd_controller`
- `control_regs`
- `status_regs`
- `start_stop`
- `clear_timer`
- `monitor_regs`
- `monitor_channels`
- `restart_monitor`
- `peripheral_instructions`
- `agc_fixed`
- `agc_erasable`
- `agc_channels`
- `core_rope_sim`
- `erasable_meme_sim`
- `rupt_injector`
- `monitor_dsky`
- `instruction_trace`
- `nassp_bridge`

###Module `usb_interface.v`
Instantiates:
- `cmd_receveiver`
- `cmd_fifo`
- `read_fifo`
- `msg_sender`
- `read_byte_fifo`

Defines:
- Some control signals
- USB Interface state machine

####USB Interface state machine
Sets control signals for the FT2232H chip, as well as the `rx_data_ready` signal.

States:
- IDLE
- READ1
- READ2
- WRITE

###Module `cmd_receiver.v`
Defines:
- Command Receiver state machine

####Command Receiver state machine
Builds 40 byte unslipped message from bytes as retrieved from the FT2232H chip.

States:
- IDLE
- ACTIVE
- ESCAPED

###Module `cmd_fifo`
IP module (FIFO generator); stores incoming commands.

###Module `read_fifo`
IP module (FIFO generator); stores data read from any part of the AGC, to be sent out by the `message_sender`.

###Module `msg_sender.v`
Defines:
- Message Sender state machine

####Message Sender state machine
Builds 40 byte slipped messages from data in the `read_fifo` and saves them to the `read_byte_fifo`.

States:
- IDLE
- ACTIVE
- ESCAPE

###Module `read_byte_fifo`
IP module (FIFO generator); stores the bytes generated by the Message Sender state machine.

###Module `cmd_controller.v`
Defines:
- Command Controller state machine

####Command Controller state machine
Interprets the received command.

States:
- IDLE
- ERASABLE
- FIXED
- CHANNELS
- SIM_ERASABLE
- SIM_FIXED
- CONTROL
- STATUS
- MON_REGS
- MON_CHANNELS
- MON_DSKY
- TRACE
- NASSP
- SEND_READ_MSG

###Module `control_regs.v`
Provides data read from the AGC, and processes peripheral instructions.

###Module `status_regs.v`
Instantiates:
- `mon_adc`

Provides status data read from the AGC (alarms and other hardware conditions).

###Module `mon_adc.v`
IP module (Analog-to-Digital converter); used for FPGA voltage and temperature sensing.

###Module `start_stop.v`
Generation of monitor start/stop signals, and determination of stop cause.

###Module `clear_timer.v`
Sets the CT (clear timer) signal when MONWT is asserted, and resets it after 24 clock pulses.
CT is the clear signal for the shadow registers of the monitor.

###Module `monitor_regs.v`
Instantiates:
- `register` (multiple)
- `register2` (multiple)

Defines all the AGC mirror registers and the monitor registers, including reading
and writing.

###Module `register.v`
Mirror register.

###Module `register2.v`
Mirror register with 2 write line connections.

###Module `monitor_channels.v`
Instantiates:
- `channel` (multiple)

Defines all the AGC mirror channels, including reading and writing.

###Module `channel.v`
Mirror channel.

###Module `restart_monitor.v`
Implementation of channel 77.

###Module `peripheral_instructions.v`
